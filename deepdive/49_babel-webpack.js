// 49ì¥ Babelê³¼ Webpackì„ ì´ìš©í•œ ES6+/ES.NEXT ê°œë°œ í™˜ê²½ êµ¬ì¶•

// í¬ë¡¬, ì‚¬íŒŒë¦¬, íŒŒì´ì–´í­ìŠ¤, ì—£ì§€ ê°™ì€ ì—ë²„ê·¸ë¦° ë¸Œë¼ìš°ì €(ì›¹í‘œì¤€ì„ ì¤€ìˆ˜í•˜ê¸° ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë˜ ë¸Œë¼ìš°ì €)ì˜ ES6 ì§€ì›ìœ¨ì€ ì•½ 98%ë¡œ
// ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ ES6 ì‚¬ì–‘ì„ ì§€ì›í•œë‹¤.

// í•˜ì§€ë§Œ IE11ì˜ ES6 ì§€ì›ìœ¨ì€ ì•½ 11%ë‹¤.
// ê·¸ë¦¬ê³  ë§¤ë…„ ìƒˆë¡­ê²Œ ë„ì…ë˜ëŠ” ES6 ì´ìƒì˜ ë²„ì „(ES6+)ê³¼ ì œì•ˆ ë‹¨ê³„ì— ìˆëŠ” ES ì œì•ˆ ì‚¬ì–‘(ES.NEXT)ì€ ë¸Œë¼ìš°ì €ì— ë”°ë¼ ì§€ì›ìœ¨ì´ ì œê°ê°ì´ë‹¤.

// ë”°ë¼ì„œ ES6+ì™€ ES.NEXTì˜ ìµœì‹  ECMAScript ì‚¬ì–‘ì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë ¤ë©´ ìµœì‹  ì‚¬ì–‘ìœ¼ë¡œ ì‘ì„±ëœ ì½”ë“œë¥¼ ê²½ìš°ì— ë”°ë¼ IEë¥¼ í¬í•¨í•œ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œ
// ë¬¸ì œ ì—†ì´ ë™ì‘ì‹œí‚¤ê¸° ìœ„í•œ ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ê±°ì´ í•„ìš”í•˜ë‹¤.

// ë˜í•œ ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì íŠ¸ê°€ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë¯€ë¡œ ëª¨ë“ˆ ë¡œë”ë„ í•„ìš”í•˜ë‹¤.
// ES6 ëª¨ë“ˆ(ESM)ì€ ëŒ€ë¶€ë¶„ì˜ ëª¨ë˜ ë¸Œë¼ìš°ì €(Chrome 61, FF 60, SF 10.1, Edge 16 ì´ìƒ)ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
// í•˜ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ ì•„ì§ê¹Œì§€ëŠ” ESMë³´ë‹¤ëŠ” ë³„ë„ì˜ ëª¨ë“ˆ ë¡œë”ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

// - IEë¥¼ í¬í•¨í•œ êµ¬í˜• ë¸Œë¼ìš°ì €ëŠ” ESMì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.
// - ESMì„ ì‚¬ìš©í•˜ë”ë¼ë„ íŠ¸ëœìŠ¤íŒŒì¼ë§ì´ë‚˜ ë²ˆë“¤ë§ì´ í•„ìš”í•œ ê²ƒì€ ë³€í•¨ì´ ì—†ë‹¤.
// - ESMì´ ì•„ì§ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥(bare import ë“±)ì´ ìˆê³  ì ì°¨ í•´ê²°ë˜ê³ ëŠ” ìˆì§€ë§Œ ì•„ì§ ëª‡ ê°€ì§€ ì´ìŠˆê°€ ì¡´ì¬í•œë‹¤.

// ì´ë²ˆ ì¥ì—ì„œëŠ” íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬(transpiler)ì¸ Babelê³¼ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬(module bundler)ì¸ Webpackì„ ì´ìš©í•˜ì—¬ ES6+/ES.NEXT ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•´ ë³´ì.
// ì•„ìš¸ëŸ¬ Webpackì„ í†µí•´ Babelì„ ë¡œë“œí•˜ì—¬ ES6+/ES.NEXT ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ IE ê°™ì€ êµ¬í˜• ë¸Œë¼ìš°ì €ì—£ë„ ë™ì‘í•˜ë„ë¡ ES5 ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¡œ íŠ¸ëœìŠ¤íŒŒì¼ë§í•˜ëŠ”
// ë°©ë²•ë„ ì•Œì•„ë³¼ ê²ƒì´ë‹¤.

// ì´ ì±…ì—ì„œ ì‚¬ìš©í•œ Node.jsì™€ npmì˜ ë²„ì „ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

// - Node.js: 14.3.0
// - npm: 6.14.5

// Babel, Webpack, í”ŒëŸ¬ê·¸ì¸ì˜ ë²„ì „ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
// íŒ¨í‚¤ì§€/í”ŒëŸ¬ê·¸ì¸       | íŒ¨í‚¤ì§€ ì´ë¦„                                  | ë²„ì „
// Babel             | @babel/cli                                 | 7.10.3
//                   | @babel/core                                | 7.10.3
// Babel í”„ë¦¬ì…‹        | @babel/preset-env                          | 7.10.3
// Babel í”ŒëŸ¬ê·¸ì¸      | @babel/plugin-proposal-class-properties    | 7.10.1
//                   | @babel/polyfill                            | 7.10.1
// Webpack           | webpack                                    | 4.43.0
//                   | webpack-cli                                | 3.3.12
// Webpack í”ŒëŸ¬ê·¸ì¸    | babel-loader                               | 8.1.0


// ğŸ‘‰ Babel
// ë‹¤ìŒ ì˜ˆì œì—ì„œëŠ” ES6ì˜ í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ES7ì˜ ì§€ìˆ˜ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
{
    [1, 2, 3].map(n => n ** n);
}

// IEê°™ì€ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œëŠ” ES6ì˜ í™”ì‚´í‘œ í•¨ìˆ˜ì™€ ES7ì˜ ì§€ìˆ˜ ì—°ì‚°ìë¥¼ ì§€ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.
// Babelì„ ì‚¬ìš©í•˜ë©´ ìœ„ ì½”ë“œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ES5 ì‚¬ì–‘ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.
{
    "use strict";

    [1, 2, 3].map(function (n) {
        return Math.pow(n, n);
    });
}

// ì´ì²˜ëŸ¼ Babelì€ ES6+/ES.NEXTë¡œ êµ¬í˜„ëœ ìµœì‹  ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ IEê°™ì€ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œë„ ë™ì‘í•˜ëŠ” ES5 ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¡œ ë³€í™˜(íŠ¸ëœìŠ¤íŒŒì¼)í•  ìˆ˜ ìˆë‹¤.
// Babelì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê°œë°œ í™˜ê²½ì„ êµ¬ì¶•í•´ ë³´ì.

// ğŸ“Œ Babel ì„¤ì¹˜
// npmì„ ì´ìš©í•˜ì—¬ Babelì„ ì„¤ì¹˜í•´ ë³´ì.
// í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ Babelì„ ì„¤ì¹˜í•œë‹¤.

// # í”„ë¡œì íŠ¸ í´ë” ìƒì„±
// $ mkdir esnext-project && cd esnext-project
// # package.json ìƒì„±
// $ npm init -y
// # babel-core, babel-cli ì„¤ì¹˜
// $ npm install --save-dev @babel/core @babel/cli

// ì„¤ì¹˜ê°€ ì™„ë£Œëœ ì´í›„ package.json íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
// ë¶ˆí•„ìš”í•œ ì„¤ì •ì€ ì‚­ì œí–ˆë‹¤.
// {
//     "name": "esnext-project",
//     "version": "1.0.0",
//     "description": "",
//     "main": "index.js",
//     "scripts": {
//         "test": "echo \"Error: no test specified\" && exit 1"
//     },
//     "keywords": [],
//     "author": "",
//     "license": "ISC",
//     "devDependencies": {
//     "@babel/cli": "^7.10.3",
//         "@babel/core": "^7.10.3"
//     }
// }

// ì°¸ê³ ë¡œ Babel, Webpack, í”ŒëŸ¬ê·¸ì¸ì˜ ë²„ì „ì€ ë¹ˆë²ˆí•˜ê²Œ ì—…ê·¸ë ˆì´ë“œ ëœë‹¤.
// npm installì€ ì–¸ì œë‚˜ ìµœì‹  ë²„ì „ì˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ë¯€ë¡œ ìœ„ ë²„ì „ê³¼ëŠ” ë‹¤ë¥¸ ìµœì‹  ë²„ì „ì˜ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë  ìˆ˜ë„ ìˆë‹¤.
// ë§Œì•½ ìœ„ ë²„ì „ ê·¸ëŒ€ë¡œ ì„¤ì¹˜í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ íŒ¨í‚¤ì§€ ì´ë¦„ ë’¤ì— @ê³¼ ì„¤ì¹˜í•˜ê³  ì‹¶ì€ ë²„ì „ì„ ì§€ì •í•œë‹¤.

// # ë²„ì „ ì§€ì • ì„¤ì¹˜
// nmp install --save-dev @babel/core@7.10.3 @babel/cli@7.10.3


// ğŸ“Œ Babel í”„ë¦¬ì…‹ ì„¤ì¹˜ì™€ babel.config.json ì„¤ì • íŒŒì¼ ì‘ì„±
// Babelì„ ì‚¬ìš©í•˜ë ¤ë©´ @babel/preset-envë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.
// @babel/preset-envëŠ” í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•˜ëŠ” Babel í”ŒëŸ¬ê·¸ì¸ì„ ëª¨ì•„ ë‘” ê²ƒìœ¼ë¡œ Babel í”„ë¦¬ì…‹ì´ë¼ê³  ë¶€ë¥¸ë‹¤.
// pre-set: ì‚¬ì „ ì„¤ì •
// Babelì´ ì œê³µí•˜ëŠ” ê³µì‹ Babel í”„ë¦¬ì…‹(official preset)ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

// - @babel/preset-env
// - @babel/preset-flow
// - @babel/preset-react
// - @babel/preset-typescript

// â—ï¸ @babel/preset-envëŠ” í•„ìš”í•œ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ í”„ë¡œì íŠ¸ ì§€ì› í™˜ê²½ì— ë§ì¶° ë™ì ìœ¼ë¡œ ê²°ì •í•´ ì¤€ë‹¤.
// â—ï¸ í”„ë¡œì íŠ¸ ì§€ì› í™˜ê²½ì€ Browserlist í˜•ì‹ìœ¼ë¡œ .browserslistrc íŒŒì¼ì— ìƒì„¸íˆ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
// ë§Œì•½ í”„ë¡œì íŠ¸ ì§€ì› í™˜ê²½ ì„¤ì • ì‘ì—…ì„ ìƒëµí•˜ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ëœë‹¤.

// ì¼ë‹¨ì€ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì§„í–‰í•˜ì.
// ê¸°ë³¸ ì„¤ì •ì€ ëª¨ë“  ES6+/ES.NEXT ì‚¬ì–‘ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³€í™˜í•œë‹¤.

// # @babel/preset-env ì„¤ì¹˜
// $ npm install --save-dev @babel/preset-env

// ì„¤ì¹˜ê°€ ì™„ë£Œëœ ì´í›„ packgage.json íŒŒì¼ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

// {
//     "name": "esnext-project",
//     "version": "1.0.0",
//     "description": "",
//     "main": "index.js",
//     "scripts": {
//          "test": "echo \"Error: no test specified\" && exit 1"
//      },
//     "keywords": [],
//     "author": "",
//     "license": "ISC",
//     "devDependencies": {
//     "@babel/cli": "^7.10.3",
//         "@babel/core": "^7.10.3",
//         "@babel/preset-env": "^7.19.4"
//      }
// }




























