<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>이벤트 캡처링과 버블링 예제</title>
    <style>
        html, body {
            height: 100%;
        }
    </style>
</head>
<body>
    <p>버블링과 캡처링 이벤트  <button>버튼</button></p>
    <script>
        // 버블링 단계의 이벤트를 캐치
        document.body.addEventListener('click', () => {
            console.log('Handler for body.');
        });

        // 캡처링 단계의 이벤트를 캐치
        document.querySelector('p').addEventListener('click', () => {
            console.log('Handler for paragraph.');
        }, true);

        // 버블링 단계의 이벤트를 캐치
        document.querySelector('button').addEventListener('click', () => {
            console.log('Handler for button.');
        });

        // 위 예제의 경우 body, button 요소는 버블링 단계의 이벤트만을 캐치하고, p 요소는 캡처링 단계의 이벤트만 캐치한다.
        // 이벤트는 캡처링 - 타깃 - 버블링 단계로 전파되므로 만약 button 요소에서 클릭 이벤트가 발생하면 먼저 캡처링 단계를 캐치하는 p 요소의
        // 이벤트 핸들러가 호출되고, 그후 버블링 단계의 이벤트를 캐치하는 button, body 요소의 이벤트 핸들러가 순차적으로 호출된다.
        // 따라서 다음과 같이 출력된다.

        // Handler for paragraph.
        // Handler for button.
        // Handler for body.


        // 만약 p 요소에서 클릭 이벤트가 발생하면 캡처링 단계를 캐치하는 p 요소의 이벤트 핸들러가 호출되고,
        // 버블링 단계를 캐치하는 body 요소의 이벤트 핸들러가 순차적으로 호출된다.
        // 따라서 다음과 같이 출력된다.

        // Handler for paragraph.
        // Handler for body.
    </script>
</body>
</html>
